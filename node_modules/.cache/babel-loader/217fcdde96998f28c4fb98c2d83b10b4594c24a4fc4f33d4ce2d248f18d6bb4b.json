{"ast":null,"code":"import{useRef}from\"react\";import{useParams}from\"react-router-dom\";import{uploadEmployeePic}from\"../model/EmployeeCRUD\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export function FileUpload(){const{_id}=useParams();const file=useRef();function getFile(employee_pic){//console.log(employee_pic);\nfile.current=employee_pic;}async function upload(){//console.log(file.current);\nif(file.current!==undefined){const data=await uploadEmployeePic(_id,file.current);if(data.modifiedCount>0)window.alert(\"Profile pic updated successfully....\");else window.alert(\"no changes...\");}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"ID : \",_id]})}),/*#__PURE__*/_jsx(\"label\",{children:\"Select File to upload\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:event=>getFile(event.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:upload,children:\"UPDATE\"})]});}","map":{"version":3,"names":["useRef","useParams","uploadEmployeePic","jsxs","_jsxs","jsx","_jsx","FileUpload","_id","file","getFile","employee_pic","current","upload","undefined","data","modifiedCount","window","alert","children","type","onChange","event","target","files","onClick"],"sources":["/home/neosoft/Desktop/react-ems3/src/components/FileUpload.js"],"sourcesContent":["import { useRef } from \"react\"\nimport { useParams } from \"react-router-dom\";\nimport { uploadEmployeePic } from \"../model/EmployeeCRUD\";\n\n\nexport function FileUpload(){\n    const {_id}=useParams();\n    const file = useRef();\n    function getFile(employee_pic){\n        //console.log(employee_pic);\n        file.current=employee_pic;\n    }\n    async function  upload(){\n        //console.log(file.current);\n        if(file.current!==undefined){\n            const data=await uploadEmployeePic(_id,file.current);\n            if(data.modifiedCount>0)\n                window.alert(\"Profile pic updated successfully....\")\n            else\n                window.alert(\"no changes...\")\n        }\n    }\n    return (\n        <div>\n            <p>\n                <small>ID : {_id}</small>\n            </p>\n            <label>Select File to upload</label>\n            <input type=\"file\" onChange={(event)=>getFile(event.target.files[0])}></input>\n            <button onClick={upload}>UPDATE</button>\n        </div>\n      \n    )\n}"],"mappings":"AAAA,OAASA,MAAM,KAAQ,OAAO,CAC9B,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,iBAAiB,KAAQ,uBAAuB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAG1D,MAAO,SAAS,CAAAC,UAAUA,CAAA,CAAE,CACxB,KAAM,CAACC,GAAG,CAAC,CAACP,SAAS,CAAC,CAAC,CACvB,KAAM,CAAAQ,IAAI,CAAGT,MAAM,CAAC,CAAC,CACrB,QAAS,CAAAU,OAAOA,CAACC,YAAY,CAAC,CAC1B;AACAF,IAAI,CAACG,OAAO,CAACD,YAAY,CAC7B,CACA,cAAgB,CAAAE,MAAMA,CAAA,CAAE,CACpB;AACA,GAAGJ,IAAI,CAACG,OAAO,GAAGE,SAAS,CAAC,CACxB,KAAM,CAAAC,IAAI,CAAC,KAAM,CAAAb,iBAAiB,CAACM,GAAG,CAACC,IAAI,CAACG,OAAO,CAAC,CACpD,GAAGG,IAAI,CAACC,aAAa,CAAC,CAAC,CACnBC,MAAM,CAACC,KAAK,CAAC,sCAAsC,CAAC,KAEpD,CAAAD,MAAM,CAACC,KAAK,CAAC,eAAe,CAAC,CACrC,CACJ,CACA,mBACId,KAAA,QAAAe,QAAA,eACIb,IAAA,MAAAa,QAAA,cACIf,KAAA,UAAAe,QAAA,EAAO,OAAK,CAACX,GAAG,EAAQ,CAAC,CAC1B,CAAC,cACJF,IAAA,UAAAa,QAAA,CAAO,uBAAqB,CAAO,CAAC,cACpCb,IAAA,UAAOc,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAGC,KAAK,EAAGZ,OAAO,CAACY,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CAAQ,CAAC,cAC9ElB,IAAA,WAAQmB,OAAO,CAAEZ,MAAO,CAAAM,QAAA,CAAC,QAAM,CAAQ,CAAC,EACvC,CAAC,CAGd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}